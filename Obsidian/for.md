01.05.2023    16:35
Теги: #Python 
---
# ***Внутренние ссылки:***

---
# ***Внешние ссылки:***

---
# ***Заметка:***

#  Цикл for

Цикл `for` замечательно работает, если мы заранее знаем, сколько повторений (итераций) нам требуется сделать.

Рассмотрим код, который распечатает 10 раз слово "Привет":

```python
for i in range(10):
    print('Привет')
```

Структура цикла `for` в Python выглядит так:

```python
for название_переменной_цикла in range(количество повторений):
    блок кода
```

Двоеточие **(:)** в конце строки с инструкцией `for` сообщает интерпретатору Python, что дальше находится **блок команд**. В блок команд входят все строки, расположенные с отступом от строки с инструкцией `for`, вплоть до следующей строки без отступа.

Рассмотрим следующий программный код:

```python
for i in range(5):
    num = int(input())
    print('Квадрат вашего числа равен:', num * num)
print('Цикл завершен')
```

## Имена переменных цикла

Ранее говорилось, что имена переменных должны носить осмысленный характер и описывать их назначение. Однако для переменных цикла иногда делается исключения. В программировании для переменных цикла **обычно** используют буквы `i, j, k`.

# Функция range() с одним параметром

Рассмотрим программный код:

```python
for i in range(10):
    print('Привет', i)
```

Значение, которое мы указываем в скобках у функции `range()` обозначает количество итераций цикла, при этом переменная `i` принимает последовательно значения: `0, 1, 2, 3, 4, 5, 6, 7, 8, 9`.

Если быть более точным, то мы говорим, что функция `range(n)` **генерирует последовательность** чисел от `0` до `n-1`, а цикл `for` последовательно перебирает эту последовательность.

## Перегрузка range() с двумя параметрами

Таким образом:

-   `range(n)`: создает последовательность чисел `0, 1, 2, 3, ..., n - 1`;
-   `range(n, m)`: создает последовательность чисел `n, n + 1, n + 2, ..., m - 2, m - 1`.


## Перегрузка range() с 3 параметрами

В этом случае существует еще одна перегрузка функции `range()`, принимающая три параметра: `range(n, m, k)`. Первый параметр задает **старт последовательности**, второй параметр задает **стоп последовательности** и третий – **шаг генерации** чисел.

Например, вызов функции `range(1, 10, 2)` создаст последовательность чисел `1, 3, 5, 7, 9`, а вызов функции `range(5, 30, 5)` сгенерирует последовательность `5, 10, 15, 20, 25`.

Напишем программу, которая выводит все четные числа из промежутка [56; 170][56;170].

Используя функцию `range()` с тремя параметрами, получаем:

```python
for i in range(56, 171, 2):
    print(i)
```

Обратите внимание, мы можем использовать функцию `range()` с двумя параметрами:

```python
for i in range(56, 171):
    if i % 2 == 0:
        print(i)
```

однако такой код получается менее эффективным.

## Отрицательный шаг генерации

Если шаг генерации является положительным числом, то генерируемая последовательность будет **возрастать**. Мы можем указать отрицательный шаг генерации (третий параметр), что приведет к генерированию **убывающей** последовательности.

В случае отрицательного шага, мы должны гарантировать, что старт последовательности (первый параметр) больше чем конец последовательности (второй параметр).

Например, вызов функции `range(20, 16, -1)` создаст последовательность чисел `20, 19, 18, 17`, а вызов функции `range(20, 10, -3)` сгенерирует последовательность `20, 17, 14, 11`.

Напишем программу, которая отсчитывает от 5 до 1, а затем выводит текст `Взлетаем!!!`:

```python
for i in range(5, 0, -1):
    print(i, end=' ')
print('Взлетаем!!!')
```

Результатом будет:

```no-highlight
5 4 3 2 1 Взлетаем!!!
```
!!!!!!
 Если величина шага отрицательна и первый параметр меньше второго, то функция `range()` генерирует пустую последовательность. Например, вызов функции `range(1, 10, -1)` приводит к генерации пустой последовательности.
!!!!!!
## Примеры использования функции range()

![[Pasted image 20230501164135.png]]
# Частые сценарии

## Подсчет количества

Нередко нужно, чтобы наши программы подсчитывали сколько раз что-либо произошло. К примеру видео игра может подсчитывать количество поворотов персонажа или математическая программа может считать как много чисел обладают некоторым свойством. Ключ к подсчету - использование **переменной счетчика**.

Напишем программу, которая считывает 10 чисел и определяет сколько из них больше 10.

```python
counter = 0
for i in range(10):
    num = int(input())
    if num > 10:
        counter = counter + 1
print('Было введено', counter, 'чисел, больших 10.')
```

Каждый раз когда мы считываем число большее 10, мы добавляем 1 к нашему текущему значению переменной `counter`. В программе это реализовано в строке `counter = counter + 1`. Обратите внимание на начальное значение переменной счетчика `counter = 0`. Без начального значения мы получили бы ошибку, поскольку дойдя до строки `counter = counter + 1` Python ничего не знал бы о переменной `counter` . Строка кода `counter = counter + 1` означает: возьми старое значение переменной `counter`, прибавь к нему 1 и переприсвой переменной это значение. Если не придать переменной начальное значение, то непонятно, к чему прибавлять 1 в самый первый раз.

**Подсчет количества** – это очень частый сценарий. Он состоит из двух шагов:

1.  Создание **переменной счетчика** и придание ей первоначального значения: `counter = 0`;
2.  Увеличение переменной счетчика на 1: `counter = counter + 1`.

Часто при написании программ требуется использовать несколько счетчиков. Модифицируем предыдущую программу: посчитаем еще и количество нулей среди введенных чисел.

```python
counter1 = 0
counter2 = 0
for i in range(10):
    num = int(input())
    if num > 10:
        counter1 = counter1 + 1
    if num == 0:
        counter2 = counter2 + 1
print('Было введено', counter1, 'чисел, больших 10.')
print('Было введено', counter2, 'нулей.' )
```

Рассмотрим еще один пример: подсчитать количество чисел из диапазона [1; 100][1;100], квадрат которых оканчивается на 4.

```python
counter = 0
for i in range(1, 101):
    if i**2 % 10 == 4:
        counter = counter + 1
print(counter)
```

Мы используем функцию `range()` с двумя параметрами для генерации последовательности чисел от 1 до 100. Переменная `i` последовательно принимает значения от 1 до 100, мы проверяем, условие: квадрат числа `i` оканчивается на 4 с помощью условия `i**2 % 10 == 4`.

![](https://ucarecdn.com/d651ad87-8122-4da4-a657-3d2db3fb4e28/)   Для переменной счетчика удобно использовать имя `counter`. 

## Вычисление суммы и произведения

Наравне с подсчетом количества по частоте стоит задача вычисления суммы. К примеру видео игра должна считать сумму очков. В таком случае начальное значение переменной будет равно 0, а далее оно будет увеличиваться на некоторое количество заработанных очков, скажем на 10. Мы пишем следующий код:

```python
score = 0
...
score = score + 10
```

Напишем программу, которая считывает 10 чисел и определяет сумму тех из них, которые больше 10.

```python
total = 0
for i in range(10):
    num = int(input())
    if num > 10:
        total = total + num
print('Сумма чисел больших 10 равна',  total)
```

Каждый раз когда программа считывает число большее 10, она добавляет его к текущему значению переменной `total`. Это реализовано в строке `total = total + num`. Обратите внимание на начальное значение переменной сумматора `total = 0`. Без начального значения, мы получили бы ошибку, поскольку дойдя до строки `total = total + num` Python ничего не знал бы о переменной `total` . Строка кода `total = total + num` означает возьми старое значение переменной `total`, прибавь к нему `num` и переприсвой переменной это значение. Если не придать переменной начальное значение, то не к чему прибавлять `num` в самый первый раз.

**Подсчет суммы** состоит из двух шагов:

1.  Создание переменной **сумматора** и придание ей первоначального значения: `total = 0`;
2.  Увеличение переменной сумматора на нужное число: `total = total + num`.

Напишем программу, которая считает сумму натуральных чисел от 1 до 100:

```python
total = 0
for i in range(1, 101):
    total = total + i
print('Сумма равна', total)
```

Рассмотрим еще один пример: напишем программу, которая запрашивает 10 целых чисел и находит их среднее значение:

```python
total = 0
for i in range(10):
    num = int(input())
    total = total + num
average = total / 10
print('Среднее значение равно', average)
```

Аналогичным образом вычисляется произведение. При вычислении произведения, начальное значение переменной **мультипликатора** мы устанавливаем равным **1**, в отличии от сумматора, где оно равно 0.

 ![](https://ucarecdn.com/d651ad87-8122-4da4-a657-3d2db3fb4e28/)   Для переменной сумматора и мультипликатора удобно использовать имя `total`. 

## Обмен значений переменных

Очень часто нам требуется обменять значения двух переменных `x` и `y`. Начинающие программисты иногда пишут такой код:

```python
x = y
y = x
```

Однако он не работает. Предположим, что `x = 3` и `y = 5`. Первая строка присвоит переменной `x` значение 5, что правильно, однако вторая строка установит значение переменной `y` в 5, поскольку значение `x` уже равно 5. Для решения задачи мы можем использовать **временную переменную**:

```python
temp = x
x = y
y = temp
```

Такой код пишут почти во всех языках программирования. Однако в Python есть и более простой способ. Мы можем написать так:

```python
x, y = y, x
```

В результате выполнения такого кода Python поменяет значения переменных `x` и `y` местами.

## Сигнальные метки

Сигнальная метка (флажок) может использоваться, когда надо чтобы одна часть программы узнала, о происходящем в другой части программы.  
Напишем программу, определяющую, что натуральное число является [простым](https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D1%81%D1%82%D0%BE%D0%B5_%D1%87%D0%B8%D1%81%D0%BB%D0%BE):

```python
num = int(input())
flag = True

for i in range(2, num):
    if num % i == 0:        #  если исходное число делится на какое-либо отличное от 1 и самого себя
        flag = False

if num == 1:
    print('Это единица, она не простая и не составная') 
elif flag == True:
    print('Число простое')
else:
    print('Число составное')
```

Напомним, что число является простым, если оно не имеет делителей, кроме 1 и самого себя. Вышеприведенная программа работает следующим образом: начальное значение переменной флага равно `True`, что говорит о том, что число является простым. Затем мы перебираем все числа от 2 до `num - 1`. Если одно из этих значений оказывается делителем числа `num`, тогда число `num` является составным и мы устанавливаем значение флага `False`. Как только цикл завершен, мы проверяем, установлен флаг или нет. Если это так, мы знаем, что был делитель, и число не является простым. В противном случае число должно быть простым.

Флаговые переменные могут иметь более осмысленное название. Например, в случае с проверкой числа на простоту, название флаговой переменной могло бы быть `is_prime`.

## Максимум и минимум

Поиск наибольшего или наименьшего значения в некоторой последовательности чисел, также частая задача в программировании. Напишем программу, которая считывает **10 положительных чисел** и находит среди них наибольшее число.

```python
largest = -1
for i in range(10):
    num = int(input())    
    if num > largest:
        largest = num
print('Наибольшее число равно', largest) 
```

Мы устанавливаем начальное значение переменной `largest`  в -1. Далее программа считывает 10 чисел, и если какое-то из них оказывается больше текущего значения `largest`, переприсваивает его. В качестве начального значения взято число -1, поскольку мы знаем, что все числа положительны, таким образом уже первое сравнение приведет к переприсваиванию.

Распространен подход, когда в качестве начального значения переменной, сразу принимается первый элемент последовательности. Напишем программу, которая считывает 10 чисел (необязательно положительных) и находит среди них наибольшее:

```python
largest = int(input())  # принимаем первое число за максимальное
for i in range(9):
    num = int(input())
    if num > largest:
        largest = num
print('Наибольшее число равно', largest) 
```

Для нахождения наименьшего значения последовательности следует поменять знак неравенства (>) на противоположный (<). В таком случае название переменной `largest` стоит заменить на `smallest`.

 ![](https://ucarecdn.com/d651ad87-8122-4da4-a657-3d2db3fb4e28/)   Для переменных, хранящих наибольшее и наименьшее значения, подходят имена `largest` и `smallest`