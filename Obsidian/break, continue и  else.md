12.04.2023    20:25
Теги: #Python 
---
# ***Внутренние ссылки:***
[[else]]
---
# ***Заметка:***

## Оператор прерывания цикла break

Иногда бывает нужно **прервать выполнение цикла преждевременно**. Оператор `break` прерывает ближайший цикл `for` или `while`.

```python
Напишем программу, определяющую, что число является простым:

num = int(input())
flag = True

for i in range(2, num):
    if num % i == 0:        #  если исходное число делится на какое-либо отличное от 1 и самого себя
        flag = False
        break               # останавливаем цикл если встретили делитель числа        

if flag == True:
    print('Число простое')
else:
    print('Число составное')
```

Напишем программу, использующую цикл `for`, которая считывает 10 чисел и суммирует их до тех пор, пока не обнаружит отрицательное число. В этом случае выполнение цикла прерывается командой `break`:

```python
result = 0
for i in range(10):
    num = int(input())
    if num < 0:
        break
    result += num
print(result)
```

Напишем, программу, которая определяет, содержит ли введенное пользователем число, цифру 7.

```python
num = int(input())
number = num
flag = False
while num != 0:
    last_digit = num % 10
    if last_digit == 7:
        flag = True
        break        # прерываем цикл, так как число гарантированно содержит цифру 7
    num //= 10

if flag == True:
    print('Число', number, 'содержит цифру 7')
else:
    print('Число', number, 'не содержит цифру 7')
```

!ВАЖНО - обращать внимание на флаги, прерывание удобно использовать после присваивания флага.

## Бесконечные циклы

Иногда с помощью бесконечного цикла удается сделать программный код более читабельным. Более простым может быть завершение цикла на основе условий внутри тела цикла, а не на основе условий в его заголовке:

```python
while True:
    if условие 1:  # условие для остановки цикла
        break
    ...
    if условие 2:  # еще одно условие для остановки цикла
        break
    ...
    if условие 3:  # еще одно условие для остановки цикла
        break
```

## Оператор continue

Другая стандартная идиома циклов — пропуск отдельных элементов при переборе. Оператор `continue` позволяет перейти к следующей итерации цикла `for` или `while` до завершения всех команд в теле цикла.

Напишем программу, которая выводит все числа от 1 до 100, кроме чисел 7, 17, 29 и 78.

```python
for i in range(1, 101):
    if i == 7 or i == 17 or i == 29 or i == 78:
        continue  # переходим на следующую итерацию
    print(i)
```

![[Pasted image 20230412203334.png]]

## Блок else в циклах

Python допускает необязательный блок `else` в конце циклов `while` и `for`. Это уникальная особенность Python, не встречающаяся в большинстве других языков программирования. Синтаксис такой конструкции следующий:

```python
while условие:
    блок кода1
else:
    блок кода2

# или

for i in range(10):
    блок кода1
else:
    блок кода2
```

`Блок кода2`, указанный в `else`, будет выполнен, когда **штатным образом** завершается цикл `while` или `for`.

````

Рассмотрим следующий программный код:

```python
n = 5
while n > 0:
    n -= 1
    print(n)
    if n == 2:
        break
else:
    print('Цикл завершен.')

````

Этот цикл преждевременно завершается с помощью оператора прерывания `break`, поэтому блок кода в инструкции `else` не будет выполнен. Результатом выполнения такой программы будут строки:

```no-highlight
4
3
2
```

Напишем, программу, которая определяет, содержит ли введенное пользователем число, цифру 7. Вместо программного кода, написанного ранее:

```python
num = int(input())
n = num
flag = False
while n != 0:
    last = n % 10
    if last == 7:
        flag = True
        break        # прерываем цикл, так как число гарантированно содержит цифру 7
    n //= 10

if flag is True:
    print('Число', num, 'содержит цифру 7')
else:
    print('Число', num, 'не содержит цифру 7')
```

мы можем использовать:

```python
num = int(input())
n = num
while n != 0:
    last = n % 10
    if last == 7:
        print('Число', num, 'содержит цифру 7')
        break
    n //= 10
else:
    print('Число', num, 'не содержит цифру 7')
```

# Примечания

**Примечание 1.** Оператор `continue` не влияет на выполнение блока `else` в циклах.

**Примечание 2.** Блок `else` в циклах часто применяется для обработки отсутствия элементов.

**Примечание 3.** Блок кода `else` в циклах встречается не так часто на практике. Однако если вы обнаружите ситуацию, в которой применение `else` оправдано, то не стесняйтесь его использовать. Это может добавить ясности вашему коду!